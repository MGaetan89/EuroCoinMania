{% macro coin(coin, prefix) %}
{% spaceless %}
	{% if prefix|default(false) %}
		[<span title="{{ ('coin.type' ~ coin.type)|trans }}" data-hover="tooltip">{{ ('coin.type' ~ coin.type ~ '_prefix')|trans }}</span>]
	{% endif %}

	{{ _self.name(coin.country) }} {{ _self.year(coin.year) }} {{ _self.value(coin.value) }}
{% endspaceless %}
{% endmacro %}

{% macro currency(country) %}
{% spaceless %}
	{{ ('country.currency.' ~ country.name)|trans }}
{% endspaceless %}
{% endmacro %}

{% macro is_active(routes, class) %}
	{% spaceless %}
		{% if app.request.get('_route') in routes %}
			{% if class|default('true') == 'true' %}
				class="active"
			{% else %}
				active
			{% endif %}
		{% endif %}
	{% endspaceless %}
{% endmacro %}

{% macro name(country) %}
{% spaceless %}
	{{ country.nameiso|upper|country }}
{% endspaceless %}
{% endmacro %}

{% macro slugify(text) %}
{% spaceless %}
	{{ text|replace(' ', '-')|replace('\'', '-') }}
{% endspaceless %}
{% endmacro %}

{% macro value(value, currency) %}
{% spaceless %}
	{% if value.value is defined %}
		{% set value = value.value %}
	{% endif %}

	{{ value|number_format_currency(currency|default('EUR')) }}
{% endspaceless %}
{% endmacro %}

{% macro year(year) %}
{% spaceless %}
	{{ year.year }}

	{% if year.workshop %}
		<abbr title="{{ year.workshop.name }}" data-hover="tooltip">{{ year.workshop.shortname }}</abbr>
	{% endif %}
{% endspaceless %}
{% endmacro %}

